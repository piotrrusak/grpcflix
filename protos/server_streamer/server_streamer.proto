syntax = "proto3";
package video;

service ServerStreamerService {
  rpc Stream(stream ServerStreamerMessage) returns (stream StreamerServerMessage);
}

message ServerStreamerMessage {
  oneof payload {
    ServerStartRequest server_start_request = 1;
    ServerStopRequest server_stop_request = 2;
    ServerSourceRequest server_source_request = 3;
  }
}

message StreamerServerMessage {
  oneof payload {
    StreamerServerInfo info = 1;
    StreamerServerChunk chunk = 2;
  }
}

message ServerSourceRequest {
  string source = 1;
}

message ServerStartRequest {

}

message ServerStopRequest {

}

message StreamerServerChunk {
  bytes chunk = 1;
}

message StreamerServerInfo {
  string info = 1;
}